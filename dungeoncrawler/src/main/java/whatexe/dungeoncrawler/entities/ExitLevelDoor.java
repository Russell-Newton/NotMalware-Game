package whatexe.dungeoncrawler.entities;

import javafx.scene.Node;
import javafx.scene.shape.Shape;
import whatexe.dungeoncrawler.MainApp;
import whatexe.dungeoncrawler.layout.Level;
import whatexe.dungeoncrawler.layout.Room;

import java.io.IOException;

public class ExitLevelDoor extends SimpleDoor {

    private static final Node DEFAULT_NODE = null;

    public ExitLevelDoor(Node displayNode,
                      Level owningLevel,
                      Shape hitbox,
                      Room owningRoom) {
        super(displayNode, owningLevel, null, hitbox, owningRoom);
        canTick = true;
    }

    public ExitLevelDoor(Node displayNode,
                      Level owningLevel,
                      Room owningRoom) {
        super(displayNode, owningLevel, null, owningRoom);
        canTick = true;
    }

    public ExitLevelDoor(Level owningLevel, Room owningRoom) {
        super(DEFAULT_NODE, owningLevel, null, owningRoom);
        canTick = true;
    }

    @Override
    protected void initListeners() {

    }

    @Override
    public void tick(long now) {

    }

    @Override
    public void handleOverlap(Player player) {
        if (!isLocked.get()) {
            try {
                MainApp.switchScene("EndScreen");
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }
}
