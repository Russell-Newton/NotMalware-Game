package whatexe.dungeoncrawler.entities;

import javafx.scene.Node;
import javafx.scene.shape.Circle;
import whatexe.dungeoncrawler.entities.motionsupport.Vector;
import whatexe.dungeoncrawler.layout.Room;
import javafx.scene.shape.Rectangle;

public class Projectile extends Entity {
    private int speed;
    private int length;
    private int width;
    private Vector direction;

    public Projectile( Room owningRoom, int length, int width, int speed, Vector direction) {
        super(new Circle(2), owningRoom);
        canTick = true;
        this.length = length;
        this.width = width;
        this.speed = speed;
        this.direction = direction;

    }

    @Override
    public void tick(long now) {
        double dx = speed * direction.unit().getV()[0];
        double dy = speed * direction.unit().getV()[1];

        moveNode(dx, dy);
    }

    public void handleOnEntityCollision(Entity other) {
        owningRoom.getMiscEntities().remove(this);
    }


    public int getSpeed() {
        return speed;
    }

    public void setSpeed(int speed) {
        this.speed = speed;
    }

    public double getHeight() {
        return ((Rectangle) displayNode).getHeight();
    }

    public double getWidth() {
        return ((Rectangle) displayNode).getWidth();
    }



}
