package whatexe.dungeoncrawler.entities.behavior.death;

import javafx.scene.Cursor;
import whatexe.dungeoncrawler.MainApp;
import whatexe.dungeoncrawler.entities.player.Player;

import java.util.Map;

public class PlayerDeathBehavior extends DeathBehavior<Player> {
    public PlayerDeathBehavior(Player owningEntity) {
        super(owningEntity);
    }

    @Override
    public void die() {
        try {
            MainApp.getPrimaryStage().getScene().setCursor(Cursor.DEFAULT);
            MainApp.switchScene("EndScreen", Map.of(
                    "ending", false,
                    "time", owningEntity.getTicks() * 5,
                    "killed", owningEntity.getEnemiesKilled(),
                    "damageTaken", owningEntity.getDmgTaken()));
        } catch (Exception e) {
            e.printStackTrace();
            MainApp.getPrimaryStage().close();
        }
    }
}
