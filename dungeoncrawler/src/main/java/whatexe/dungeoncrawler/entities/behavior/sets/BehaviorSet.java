package whatexe.dungeoncrawler.entities.behavior.sets;

import javafx.beans.property.SimpleObjectProperty;
import whatexe.dungeoncrawler.entities.behavior.attack.AttackBehavior;
import whatexe.dungeoncrawler.entities.behavior.death.DeathBehavior;
import whatexe.dungeoncrawler.entities.behavior.movement.MovementBehavior;
import whatexe.dungeoncrawler.entities.motionsupport.Vector;

public class BehaviorSet {

    private final SimpleObjectProperty<AttackBehavior> attackBehavior;
    private final SimpleObjectProperty<MovementBehavior> movementBehavior;
    private final SimpleObjectProperty<DeathBehavior> deathBehavior;

    public BehaviorSet(AttackBehavior attackBehavior,
                       MovementBehavior movementBehavior,
                       DeathBehavior deathBehavior) {
        this.attackBehavior = new SimpleObjectProperty<>(attackBehavior);
        this.movementBehavior = new SimpleObjectProperty<>(movementBehavior);
        this.deathBehavior = new SimpleObjectProperty<>(deathBehavior);
    }

    public AttackBehavior getAttackBehavior() {
        return attackBehavior.get();
    }

    public void setAttackBehavior(AttackBehavior attackBehavior) {
        this.attackBehavior.set(attackBehavior);
    }

    public SimpleObjectProperty<AttackBehavior> attackBehaviorProperty() {
        return attackBehavior;
    }

    public <T extends AttackBehavior> T getCastedAttackBehavior(Class<? extends T> castClass) {
        return castClass.cast(getAttackBehavior());
    }

    public MovementBehavior getMovementBehavior() {
        return movementBehavior.get();
    }

    public void setMovementBehavior(MovementBehavior movementBehavior) {
        this.movementBehavior.set(movementBehavior);
    }

    public SimpleObjectProperty<MovementBehavior> movementBehaviorProperty() {
        return movementBehavior;
    }

    public <T extends MovementBehavior> T getCastedMovementBehavior(Class<? extends T> castClass) {
        return castClass.cast(getMovementBehavior());
    }

    public DeathBehavior getDeathBehavior() {
        return deathBehavior.get();
    }

    public void setDeathBehavior(DeathBehavior deathBehavior) {
        this.deathBehavior.set(deathBehavior);
    }

    public SimpleObjectProperty<DeathBehavior> deathBehaviorProperty() {
        return deathBehavior;
    }

    public <T extends DeathBehavior> T getCastedDeathBehavior(Class<? extends T> castClass) {
        return castClass.cast(getDeathBehavior());
    }

    public void attack() {
        attackBehavior.get().attack();
    }

    public Vector getMovement() {
        return movementBehavior.get().getMovement();
    }

    public void die() {
        deathBehavior.get().die();
    }
}
