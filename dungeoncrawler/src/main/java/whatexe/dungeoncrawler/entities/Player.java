package whatexe.dungeoncrawler.entities;

import javafx.beans.property.SimpleDoubleProperty;
import javafx.beans.property.SimpleIntegerProperty;
import javafx.scene.Node;
import javafx.scene.shape.Rectangle;
import whatexe.dungeoncrawler.entities.behavior.PlayerBehaviorSet;
import whatexe.dungeoncrawler.layout.rooms.Room;


public class Player extends Entity {

    private static final double DEFAULT_SPEED = 2;
    private static final int DEFAULT_ATTACK_DAMAGE = 5;
    private static final int DEFAULT_ATTACK_DELAY = 20;

    private final SimpleIntegerProperty money;
    private final SimpleDoubleProperty speed;
    private final SimpleIntegerProperty attackDamage;
    private final SimpleIntegerProperty attackDelay;


    public Player(Node displayNode) {
        super(displayNode, null);
        canTick = true;

        money = new SimpleIntegerProperty();
        speed = new SimpleDoubleProperty(DEFAULT_SPEED);
        attackDamage = new SimpleIntegerProperty(DEFAULT_ATTACK_DAMAGE);
        attackDelay = new SimpleIntegerProperty(DEFAULT_ATTACK_DELAY);

        behaviorSet.set(new PlayerBehaviorSet(this));

    }

    public void initControls() {
        ((PlayerBehaviorSet) behaviorSet.get()).initControls();
    }

    public SimpleIntegerProperty moneyProperty() {
        return money;
    }

    public void setMoney(int money) {
        this.money.set(money);
    }

    public int getMoney() {
        return money.get();
    }

    public void adjustMoney(int dMoney) {
        money.set(money.getValue() + dMoney);
    }

    public void setCurrentRoom(Room currentRoom) {
        this.owningRoom = currentRoom;
    }

    public double getHeight() {
        return ((Rectangle) displayNode).getHeight();
    }

    public double getWidth() {
        return ((Rectangle) displayNode).getWidth();
    }

    public double getSpeed() {
        return speed.get();
    }

    public SimpleDoubleProperty speedProperty() {
        return speed;
    }

    public void setSpeed(double speed) {
        this.speed.set(speed);
    }

    public int getAttackDamage() {
        return attackDamage.get();
    }

    public SimpleIntegerProperty attackDamageProperty() {
        return attackDamage;
    }

    public void setAttackDamage(int attackDamage) {
        this.attackDamage.set(attackDamage);
    }

    public int getAttackDelay() {
        return attackDelay.get();
    }

    public SimpleIntegerProperty attackDelayProperty() {
        return attackDelay;
    }

    public void setAttackDelay(int attackDelay) {
        this.attackDelay.set(attackDelay);
    }
}
