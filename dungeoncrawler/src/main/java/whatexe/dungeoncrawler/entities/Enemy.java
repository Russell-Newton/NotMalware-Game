package whatexe.dungeoncrawler.entities;

import javafx.beans.property.SimpleIntegerProperty;
import javafx.scene.Node;
import whatexe.dungeoncrawler.layout.Room;

public abstract class Enemy extends Entity implements PlayerOverlappable {
    private final SimpleIntegerProperty health;

    public Enemy(Node displayNode, int startingHealth, Room owningRoom) {
        super(displayNode, owningRoom);
        canTick = true;

        health = new SimpleIntegerProperty(startingHealth);
    }

    public SimpleIntegerProperty healthProperty() {
        return health;
    }

    public void setHealth(int health) {
        this.health.set(health);
    }

    public void adjustHealth(int dHealth) {
        health.set(health.getValue() + dHealth);
    }

    @Override
    public void tick(long now) {
        int dx = (int) (Math.random() * 3) - 1;
        int dy = (int) (Math.random() * 3) - 1;
        moveNode(dx, dy);
    }
}
