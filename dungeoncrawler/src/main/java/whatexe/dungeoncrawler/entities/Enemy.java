package whatexe.dungeoncrawler.entities;

import javafx.beans.property.SimpleIntegerProperty;
import javafx.scene.Node;

public abstract class Enemy extends Entity {
    private final SimpleIntegerProperty health;

    public Enemy(Node displayNode, int startingHealth) {
        super(displayNode);
        canTick = true;

        health = new SimpleIntegerProperty(startingHealth);
    }

    public SimpleIntegerProperty healthProperty() {
        return health;
    }

    public void setHealth(int health) {
        this.health.set(health);
    }

    public void adjustHealth(int dHealth) {
        health.set(health.getValue() + dHealth);
    }

    @Override
    public void tick(long now) {
        int dx = (int) (Math.random() * 3) - 1;
        int dy = (int) (Math.random() * 3) - 1;
        moveNode(dx, dy);
    }

    /**
     * Enemy will attack something by creating an entity.
     *
     * @return damage done to what enemy is attacking
     */
    public abstract SimpleIntegerProperty attack();
}
