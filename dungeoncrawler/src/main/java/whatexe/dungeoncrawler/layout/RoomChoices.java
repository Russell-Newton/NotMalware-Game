package whatexe.dungeoncrawler.layout;

import whatexe.dungeoncrawler.layout.rooms.BossRoom;
import whatexe.dungeoncrawler.layout.rooms.Room;
import whatexe.dungeoncrawler.layout.rooms.SimpleRoom;
import whatexe.dungeoncrawler.layout.rooms.StartingRoom;
import whatexe.tileengine.TiledMap;

public enum RoomChoices {
    STANDARD {
        private static final String DEFAULT_MAP_FILE = "NewTemplate.tmx";

        @Override
        public Room getStartingRoom(Level owningLevel) {
            try {
                TiledMap fromTiledMap = new TiledMap(getClass().getResource(DEFAULT_MAP_FILE),
                                                     getClass()::getResource);

                return new StartingRoom(fromTiledMap, owningLevel);
            } catch (Exception e) {
                e.printStackTrace();
                return null;
            }
        }

        @Override
        public Room getBossRoom(Level owningLevel, Direction exitDirection) {
            try {
                TiledMap fromTiledMap = new TiledMap(getClass().getResource(DEFAULT_MAP_FILE),
                                                     getClass()::getResource);

                return new BossRoom(fromTiledMap, owningLevel, exitDirection);
            } catch (Exception e) {
                e.printStackTrace();
                return null;
            }
        }

        @Override
        public Room getOrdinaryRoom(Level owningLevel, Direction... exitDirections) {
            try {
                TiledMap fromTiledMap = new TiledMap(getClass().getResource(DEFAULT_MAP_FILE),
                                                     getClass()::getResource);

                return new SimpleRoom(fromTiledMap, owningLevel, exitDirections);
            } catch (Exception e) {
                e.printStackTrace();
                return null;
            }
        }
    },
    CALIBRATION {
        private static final String DEFAULT_MAP_FILE = "Calibration.tmx";

        @Override
        public Room getStartingRoom(Level owningLevel) {
            try {
                TiledMap fromTiledMap = new TiledMap(getClass().getResource(DEFAULT_MAP_FILE),
                                                     getClass()::getResource);

                return new StartingRoom(fromTiledMap, owningLevel);
            } catch (Exception e) {
                e.printStackTrace();
                return null;
            }
        }

        @Override
        public Room getBossRoom(Level owningLevel, Direction exitDirection) {
            try {
                TiledMap fromTiledMap = new TiledMap(getClass().getResource(DEFAULT_MAP_FILE),
                                                     getClass()::getResource);

                return new BossRoom(fromTiledMap, owningLevel, exitDirection);
            } catch (Exception e) {
                e.printStackTrace();
                return null;
            }
        }

        @Override
        public Room getOrdinaryRoom(Level owningLevel, Direction... exitDirections) {
            try {
                TiledMap fromTiledMap = new TiledMap(getClass().getResource(DEFAULT_MAP_FILE),
                                                     getClass()::getResource);

                return new SimpleRoom(fromTiledMap, owningLevel, exitDirections);
            } catch (Exception e) {
                e.printStackTrace();
                return null;
            }
        }
    };

    public abstract Room getStartingRoom(Level owningLevel);

    public abstract Room getBossRoom(Level owningLevel, Direction exitDirection);

    public abstract Room getOrdinaryRoom(Level owningLevel, Direction... exitDirections);
}
