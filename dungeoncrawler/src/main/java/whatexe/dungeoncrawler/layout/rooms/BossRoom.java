package whatexe.dungeoncrawler.layout.rooms;

import javafx.geometry.Rectangle2D;
import whatexe.dungeoncrawler.entities.doors.Door;
import whatexe.dungeoncrawler.entities.doors.ExitLevelDoor;
import whatexe.dungeoncrawler.layout.Direction;
import whatexe.dungeoncrawler.layout.Level;
import whatexe.tileengine.TiledMap;

public class BossRoom extends SimpleRoom {

    public BossRoom(TiledMap fromTiledMap, Level owningLevel, Direction fromDirection) {
        super(fromTiledMap, owningLevel, fromDirection);
    }

    @Override
    protected void initDoors(Direction[] directionsToGenerate) {
        super.initDoors(directionsToGenerate);
    }

    @Override
    protected void handleOnRoomClear() {
        super.handleOnRoomClear();
        Door door = new ExitLevelDoor(owningLevel,
                                      new Rectangle2D(0, 0, 32, 32),
                                      this);
        door.getDisplayNode().setTranslateX(this.backgroundImage.getWidth() / 2 - 16);
        door.getDisplayNode().setTranslateY(this.backgroundImage.getHeight() / 2 - 16);

        this.doors.add(door);
        updateDoorLocks();
    }
}
