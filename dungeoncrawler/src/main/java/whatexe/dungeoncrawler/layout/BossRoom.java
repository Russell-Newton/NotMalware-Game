package whatexe.dungeoncrawler.layout;

import javafx.scene.control.Button;
import whatexe.dungeoncrawler.MainApp;
import whatexe.dungeoncrawler.SceneManager;
import whatexe.dungeoncrawler.entities.SimpleDoor;
import whatexe.tileengine.MapObject;
import whatexe.tileengine.TiledMap;

import java.io.IOException;
import java.util.Collections;
import java.util.List;
import java.util.Map;

public class BossRoom extends SimpleRoom {

    public BossRoom(TiledMap fromTiledMap, Level owningLevel, Direction fromDirection) {
        super(fromTiledMap, owningLevel, fromDirection);
    }

    @Override
    protected void initDoors(Direction[] directionsToGenerate) {
        super.initDoors(directionsToGenerate);

        // TODO - add door for leaving, which will switch off of "Level" scene and into "Win"
        Button endButton = new Button("Infiltrate");
        endButton.setOnAction(event -> {
            try {
                MainApp.switchScene("EndScreen");
            } catch (IOException e) {
                System.out.println("Could not load end room");
                e.printStackTrace();
            }
        });

        this.doors.add(new SimpleDoor(endButton, owningLevel, directionsToGenerate[0].getOpposite()));
        endButton.setTranslateX(this.backgroundImage.getWidth() / 2);
        endButton.setTranslateY(this.backgroundImage.getHeight() / 2);
    }

    @Override
    protected void initEntities() {

    }

}
